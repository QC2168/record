import{_ as s,o as a,c as n,a as l}from"./app.5b1017d0.js";const C=JSON.parse('{"title":"如何在项目中引入百度地图API","description":"","frontmatter":{"title":"如何在项目中引入百度地图API","tags":["JavaScript"]},"headers":[{"level":2,"title":"如何在项目中引入百度地图API","slug":"如何在项目中引入百度地图api","link":"#如何在项目中引入百度地图api","children":[]},{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"文档地址","slug":"文档地址","link":"#文档地址","children":[]},{"level":2,"title":"使用方法","slug":"使用方法","link":"#使用方法","children":[]},{"level":2,"title":"申请密钥","slug":"申请密钥","link":"#申请密钥","children":[]},{"level":2,"title":"创建应用","slug":"创建应用","link":"#创建应用","children":[]},{"level":2,"title":"应用信息","slug":"应用信息","link":"#应用信息","children":[]},{"level":2,"title":"引入API","slug":"引入api","link":"#引入api","children":[]},{"level":2,"title":"渲染地图","slug":"渲染地图","link":"#渲染地图","children":[]}],"relativePath":"article/如何在项目中引入百度地图API.md"}'),p={name:"article/如何在项目中引入百度地图API.md"},o=l(`<h2 id="如何在项目中引入百度地图api" tabindex="-1">如何在项目中引入百度地图API <a class="header-anchor" href="#如何在项目中引入百度地图api" aria-hidden="true">#</a></h2><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-hidden="true">#</a></h2><p>百度地图<code>JavaScript API</code>是一套由<code>JavaScript</code>语言编写的应用程序接口，可帮助您在网站中构建功能丰富、交互性强的地图应用，支持<code>PC</code>端和移动端基于浏览器的地图应用开发，且支持<code>HTML5</code>特性的地图开发。</p><h2 id="文档地址" tabindex="-1">文档地址 <a class="header-anchor" href="#文档地址" aria-hidden="true">#</a></h2><p>百度地图<code>JavaScript SDK</code>：<a href="https://lbsyun.baidu.com/index.php?title=jspopular" target="_blank" rel="noreferrer">https://lbsyun.baidu.com/index.php?title=jspopular</a></p><h2 id="使用方法" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法" aria-hidden="true">#</a></h2><h2 id="申请密钥" tabindex="-1">申请密钥 <a class="header-anchor" href="#申请密钥" aria-hidden="true">#</a></h2><p>百度地图应用管理平台：<a href="https://lbsyun.baidu.com/apiconsole/key?application=key#/home" target="_blank" rel="noreferrer">https://lbsyun.baidu.com/apiconsole/key?application=key#/home</a></p><h2 id="创建应用" tabindex="-1">创建应用 <a class="header-anchor" href="#创建应用" aria-hidden="true">#</a></h2><p>如下图，点击创建应用，为你的项目创建一个应用。用于使用百度地图<code>API</code>。</p><p><img src="https://raw.githubusercontent.com/QC2168/note-img/main/202203161638550.png" alt="1"></p><h2 id="应用信息" tabindex="-1">应用信息 <a class="header-anchor" href="#应用信息" aria-hidden="true">#</a></h2><p>设置你的应用名称，以及应用的类型（浏览端）。</p><p><img src="https://raw.githubusercontent.com/QC2168/note-img/main/202203161638551.png" alt="2"></p><p>创建之后，我们就可以拿到AK了，后面我们引入需要使用到它。</p><p><img src="https://raw.githubusercontent.com/QC2168/note-img/main/202203161638552.png" alt="3"></p><h2 id="引入api" tabindex="-1">引入API <a class="header-anchor" href="#引入api" aria-hidden="true">#</a></h2><p>在项目的<code>index.html</code>中，添加以下代码引入百度地图<code>API</code>。</p><p>方法一：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!--引入百度地图api--&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text/javascript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://api.map.baidu.com/api?v=2.0&amp;ak=你的密钥</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BMap </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> BMap</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>方法二：（ 如果你是使用<code>vite</code>构建的<code>react</code>项目，推荐使用以下方式进行引入<code>BMap</code> ）</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!--引入百度地图api--&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text/javascript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://api.map.baidu.com/api?v=2.0&amp;ak=XIYLPKQE2G1jXeKXlplm0kH0x3hqPYpO</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>安装<code>yarn add rollup-plugin-external-globals -D</code>，并配置<code>vite.config.js</code>文件。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">build</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">rollupOptions</span><span style="color:#89DDFF;">:{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">external</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">BMap</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">externalGlobals</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                BMap</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">BMap</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre></div><p>方法三：（ 如果你是使用<code>webpack</code>构建的<code>react</code>项目，推荐使用以下方式进行引入<code>BMap</code> ）</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!--引入百度地图api--&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text/javascript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://api.map.baidu.com/api?v=2.0&amp;ak=XIYLPKQE2G1jXeKXlplm0kH0x3hqPYpO</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>在<code>webpack</code>配置文件中加入以下代码，将<code>BMap</code>全局暴露出来。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">externals</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">BMap</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">BMap</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre></div><p>接下面在项目中就可以直接使用啦！</p><h2 id="渲染地图" tabindex="-1">渲染地图 <a class="header-anchor" href="#渲染地图" aria-hidden="true">#</a></h2><p>创建一个container容器，用于渲染地图。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Map</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>给容器设置样式，让地图容器占满整个页面。</p><div class="language-scss"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Map</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">#</span><span style="color:#F78C6C;">container</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>通过<code>BMap.Map</code>传入要渲染的容器，通过<code>navigator.geolocation.getCurrentPosition</code>中的回调函数获取当前位置，通过<code>BMap.Point</code>设定中心点坐标即可。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 获取地理位置信息</span></span>
<span class="line"><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">geolocation</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCurrentPosition</span><span style="color:#A6ACCD;">((</span><span style="color:#A6ACCD;font-style:italic;">position</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">map</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">BMap</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">latitude</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">position</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coords</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">latitude</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">longitude</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">position</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coords</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">longitude</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">centerAndZoom</span><span style="color:#F07178;">((</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">BMap</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Point</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">longitude</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">latitude</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">15</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"></span></code></pre></div><p>关于百度地图API更多使用方法请查阅：<a href="https://lbsyun.baidu.com/index.php?title=jspopular" target="_blank" rel="noreferrer">https://lbsyun.baidu.com/index.php?title=jspopular</a></p>`,37),e=[o];function t(c,r,i,F,D,y){return a(),n("div",null,e)}const h=s(p,[["render",t]]);export{C as __pageData,h as default};
