import{_ as s,c as a,o,a as n}from"./app.06f43e56.js";const u=JSON.parse('{"title":"浏览器UA","description":"","frontmatter":{"title":"浏览器UA","tags":["JavaScript","Browser"]},"headers":[{"level":2,"title":"怎么识别用户的浏览器","slug":"怎么识别用户的浏览器","link":"#怎么识别用户的浏览器","children":[]},{"level":2,"title":"UA是什么","slug":"ua是什么","link":"#ua是什么","children":[]},{"level":2,"title":"利用UA渲染不同排版","slug":"利用ua渲染不同排版","link":"#利用ua渲染不同排版","children":[]},{"level":2,"title":"如何查看UA","slug":"如何查看ua","link":"#如何查看ua","children":[]},{"level":2,"title":"UA的组成","slug":"ua的组成","link":"#ua的组成","children":[]},{"level":2,"title":"UA的作用","slug":"ua的作用","link":"#ua的作用","children":[]},{"level":2,"title":"如何修改UA","slug":"如何修改ua","link":"#如何修改ua","children":[{"level":3,"title":"JS怎么获取UA","slug":"js怎么获取ua","link":"#js怎么获取ua","children":[]},{"level":3,"title":"如何防止UA","slug":"如何防止ua","link":"#如何防止ua","children":[]}]},{"level":2,"title":"参考资料","slug":"参考资料","link":"#参考资料","children":[]}],"relativePath":"article/-浏览器UA.md"}'),e={name:"article/-浏览器UA.md"},l=n(`<h2 id="怎么识别用户的浏览器" tabindex="-1">怎么识别用户的浏览器 <a class="header-anchor" href="#怎么识别用户的浏览器" aria-hidden="true">#</a></h2><p>在一个项目中，我们经常会遇到这样的需求，根据用户的浏览器来做一些特殊的处理，比如通过浏览器的<code>UA</code>来判断用户的设备，从而给用户提供不同的体验</p><p>但这个需求在我们开发的过程中，往往会遇到一些问题，作为开发者怎么获取用户的<code>UA</code>，怎么判断用户的设备，怎么判断用户的浏览器等等</p><p>本文将会带你一步一步的了解这些问题，让你在开发中更加的顺手</p><h2 id="ua是什么" tabindex="-1">UA是什么 <a class="header-anchor" href="#ua是什么" aria-hidden="true">#</a></h2><p><code>UA</code>的全称是<code>User Agent</code>，翻译过来是意思就是<strong>用户代理</strong>，我们简称为<code>UA</code>，它是一串比较特殊的字符串，用于在每一个<code>HTTP</code>请求中，告知服务器端当前请求的用户所所有的浏览器设备，和渲染引擎，操作系统等信息</p><p>在不同的设备中，<code>UA</code>标识也是不同的，通过不同的<code>UA</code>标识，网站可以渲染出不同的排版来而用户提供更好的体验和数据统计等</p><h2 id="利用ua渲染不同排版" tabindex="-1">利用UA渲染不同排版 <a class="header-anchor" href="#利用ua渲染不同排版" aria-hidden="true">#</a></h2><p>使用<code>UA</code>判断页面的排版，是一种比较常见的做法，比如在<code>PC</code>端和移动端，我们会有不同的页面排版，这个时候我们就可以通过<code>UA</code>来判断用户的设备，从而给用户提供不同的页面排版、</p><p>例如访问<a href="www.baidu.com">百度</a>,当我们使用不同的<code>UA</code>去访问时，会发现页面的排版是不一样的</p><p><strong>使用默认UA访问（Chrome for Window）</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">UA:Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><img src="https://raw.githubusercontent.com/QC2168/note-img/main/20230314140526.png" alt="20230314140526"></p><p><strong>指定UA访问（Chrome for Android Mobile）</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">UA: Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Mobile Safari/537.36</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><img src="https://raw.githubusercontent.com/QC2168/note-img/main/20230314140504.png" alt="20230314140504"></p><p>从上面图中可以看出，当我们使用不同的<code>UA</code>访问时，页面的排版是不一样的，这就是通过<code>UA</code>来判断用户的设备，从而给用户提供不同的页面排版</p><h2 id="如何查看ua" tabindex="-1">如何查看UA <a class="header-anchor" href="#如何查看ua" aria-hidden="true">#</a></h2><p>查看<code>UA</code>的方法很简单，打开<code>devTools-network</code>，在任意一个请求中的<code>header</code>最底部即可找到一个名为<code>user-agent</code>的请求头，这个就是当前您所向服务器发送的<code>UA</code></p><p><img src="https://raw.githubusercontent.com/QC2168/note-img/main/20230313103027.png" alt="20230313103027"></p><p>这个是我当前是<code>UA</code>（注意，使用不同浏览器的<code>UA</code>是不一样的，上面的图片我使用的<code>Chrome111</code>版本的）</p><p>我们来分析下这一串<code>UA</code>都有些什么数据</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>在这之前我们先看看整个<code>UA</code>组成是怎么样的</p><h2 id="ua的组成" tabindex="-1">UA的组成 <a class="header-anchor" href="#ua的组成" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">Mozilla/5.0 (&lt;system-information&gt;) &lt;platform&gt; (&lt;platform-details&gt;) &lt;extensions&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><table><thead><tr><th>属性</th><th>属性值</th><th>说明</th></tr></thead><tbody><tr><td><code>&lt;system-information&gt;</code></td><td>user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)</td><td>当前操作系统</td></tr><tr><td><code>&lt;platform&gt;</code></td><td>AppleWebKit/537.36</td><td>平台</td></tr><tr><td><code>&lt;platform-details&gt;</code></td><td>(KHTML, like Gecko)</td><td></td></tr><tr><td><code>&lt;extensions&gt;</code></td><td>Chrome/111.0.0.0 Safari/537.36</td><td>浏览器版本，内核</td></tr></tbody></table><h4 id="为什么是mozilla开头" tabindex="-1">为什么是Mozilla开头 <a class="header-anchor" href="#为什么是mozilla开头" aria-hidden="true">#</a></h4><p>所有的主流的浏览器的<code>UA</code>都采用了<code>Mozilla</code>开头，这还要从一段历史开始说起</p><p>在1993年的时候，第一个支持图片格式的浏览器问世了，它叫<code>Mosaic</code>浏览器，由<code>NCSA</code>团队开发的，后来，开发这个浏览器的骨干开始开发了一个新的浏览器，命名为<code>Mozilla</code>（它的任务是干掉<code>Mosaic</code>浏览器），后来由于团队的原因，将该浏览器重命名为<code>Netscape</code>（该浏览器还支持<code>frame</code>特性）</p><p>由于不同的浏览器有不同的能力，服务器端出现了UserAgent嗅探技术</p><p>一时之间，<code>NetSpace</code>成为了浏览器中最靓的那个浏览器，</p><p>作为软件巨头的<code>Microsoft</code>，推出了IE浏览器，希望终结<code>Netscape</code>浏览器</p><p>但服务器会嗅探<code>UA</code>啊，如果是<code>Mozilla</code>浏览器才会提供包含<code>Frame</code>页面</p><p>这时候<code>IE</code>学会了伪装<code>UA</code>，把<code>UA</code>头携带上<code>Mozilla</code>，告诉服务器我就是<code>Mozilla</code>浏览器，快给我发带有frame的高级页面</p><p>之后，Microsoft在Window中内置了IE浏览器，导致NetScope浏览器一时之间用户量跌入谷底。</p><p>又过了一段时间~</p><p>新的Mozilla来了，还拥有了Gecko的渲染引擎，后面命名为<code>firefox</code>，并且在<code>UA</code>中携带上<code>firefox</code>和<code>Gecko</code>信息</p><p>服务器这边这个时候又开始嗅探了，如果<code>UA</code>带有<code>Gecko</code>的，都会赐予用户体验比较好的页面</p><p>到了这里，<code>Linux</code>系统这边开发出了一个名为<code>Konqueror</code>的浏览器，采用自家的<code>KHTML</code>渲染引擎。</p><p>自称渲染效果和和<code>Gecko</code>的效果一样好！</p><p>但服务器还是只会给<code>Gecko</code>提供用户体验比较好的页面</p><p><code>Konqueror</code>开始在<code>UA</code>动手脚了，伪造自己使用的是<code>Gecko</code>浏览器，使用更好的页面</p><p>后续新开发的浏览器也开始在<code>UA</code>上进行修改来伪装自己，后来这一操作也成为了标准，所有商业浏览器的<code>UA</code>前缀都是以<code>Mozilla</code>开头</p><p>画了一个图，大概是这样子的</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>总结：服务器只判断是不是<code>Mozilla</code>，而浏览器都基于<code>Mozilla</code>来扩展 😂</p></div><h2 id="ua的作用" tabindex="-1">UA的作用 <a class="header-anchor" href="#ua的作用" aria-hidden="true">#</a></h2><p>从上面的描述中，我们已经知道了<code>UA</code>的历史，以及通过<code>UA</code>来识别当前用户访问的浏览器</p><p>除了用来识别浏览器，<code>UA</code>还有其他的作用，例如：</p><ul><li>统计用户浏览器使用情况，如：用户使用的是什么浏览器，什么版本，什么操作系统，什么设备等信息</li><li>根据用户设备的<code>UA</code>，提供不同的页面排版，提供更好的用户体验（如识别出是移动端的则返回移动端的页面布局）</li></ul><p>当然，我们也是可以修改<code>UA</code>的，但是这样做是不被推荐的，这会导致服务器端无法识别当前用户的设备信息，从而导致无法提供更好的用户体验</p><h2 id="如何修改ua" tabindex="-1">如何修改UA <a class="header-anchor" href="#如何修改ua" aria-hidden="true">#</a></h2><h4 id="chrome-devtools" tabindex="-1">Chrome devTools <a class="header-anchor" href="#chrome-devtools" aria-hidden="true">#</a></h4><p>首先需要在我们想要修改UA的页面上面打开<code>devTools</code>，然后右上角是一个<code>setting</code>的按钮，点击进去，选择<code>More tools</code>，然后选择<code>Network conditions</code></p><p><img src="https://raw.githubusercontent.com/QC2168/note-img/main/20230314123745.png" alt="20230314123745"></p><p>之后在<code>User agent</code>把<code>use browser default</code>的勾选取消掉，然后在下面的输入框中指定我们想要的<code>UA</code>即可。</p><p><img src="https://raw.githubusercontent.com/QC2168/note-img/main/20230314123614.png" alt="20230314123614"></p><div class="tip custom-block"><p class="custom-block-title">温馨提示</p><p>注意该个方法只在当前页面生效，新建浏览器<code>Tab</code>的时候<code>UA</code>会恢复到默认值</p><p>如果想要全局生效，可以使用下面的插件</p></div><h4 id="浏览器插件" tabindex="-1">浏览器插件 <a class="header-anchor" href="#浏览器插件" aria-hidden="true">#</a></h4><p><code>Chrome</code>插件：<a href="https://chrome.google.com/webstore/detail/user-agent-switcher-for-c/djflhoibgkdhkhhcedjiklpkjnoahfmg" target="_blank" rel="noreferrer">User-Agent Switcher for Chrome</a></p><p><code>Firefox</code>插件：<a href="https://addons.mozilla.org/zh-CN/firefox/addon/user-agent-string-switcher/" target="_blank" rel="noreferrer">User Agent Switcher</a></p><h3 id="js怎么获取ua" tabindex="-1">JS怎么获取UA <a class="header-anchor" href="#js怎么获取ua" aria-hidden="true">#</a></h3><p>说了这么多，我们在开发的时候怎么去获取UA，并且推断UA信息</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 获取UA信息</span></span>
<span class="line"><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">userAgent</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 输出：Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36</span></span>
<span class="line"><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">userAgentData</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 输出：</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     &quot;brands&quot;: [</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//         {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//             &quot;brand&quot;: &quot;Google Chrome&quot;,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//             &quot;version&quot;: &quot;111&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//         },</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//         {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//             &quot;brand&quot;: &quot;Not(A:Brand&quot;,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//             &quot;version&quot;: &quot;8&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//         },</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//         {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//             &quot;brand&quot;: &quot;Chromium&quot;,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//             &quot;version&quot;: &quot;111&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//         }</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     ],</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     &quot;mobile&quot;: false,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     &quot;platform&quot;: &quot;Windows&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// }</span></span>
<span class="line"></span></code></pre></div><p>::: warn <code>navigator.userAgentData</code>需要在<code>https</code>环境下才能使用，而且仅支持部分浏览器，具体兼容性见下图 :::</p><p><img src="https://raw.githubusercontent.com/QC2168/note-img/main/20230314221517.png" alt="20230314221517"></p><p>在<code>Safari</code>和<code>FireFox</code>浏览器目前并没有受到支持，所以在平时项目开发中也不建议使用该<code>Api</code></p><p>如果你想要根据用户<code>UA</code>来推断客户端信息，可以使用<code>ua-parser-js</code>这个轮子（库），它可以分析出一个具体信息对象。比上面的<code>navigator.userAgentData</code>还要强大一些。</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://cdn.jsdelivr.net/npm/ua-parser-js@1.0.34/src/ua-parser.min.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> parser </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">UAParser</span><span style="color:#A6ACCD;">(navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">userAgent)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> parserResults </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> parser</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getResult</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(parserResults)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// parserResults</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ua</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">browser</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Chrome</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">111.0.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">major</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">111</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">engine</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Blink</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">111.0.0.0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">os</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Windows</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">device</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cpu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">architecture</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">amd64</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>除了一次性获取全部解析出来的信息，也可以单独调用方法来获取信息，例如只获取当前用户设备信息，用来判断当前用户是否为移动设备访问</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> parser </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">UAParser</span><span style="color:#A6ACCD;">(navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">userAgent)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(parser</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getDevice</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     &quot;vendor&quot;: &quot;LG&quot;,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     &quot;model&quot;: &quot;Nexus 5&quot;,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     &quot;type&quot;: &quot;mobile&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// }</span></span>
<span class="line"></span></code></pre></div><p>这里只是举其中一个例子，<code>ua-parser-js</code>还提供了其他数据信息获取的方法，<a href="https://github.com/faisalman/ua-parser-js#methods" target="_blank" rel="noreferrer">点我跳转</a></p><h3 id="如何防止ua" tabindex="-1">如何防止UA <a class="header-anchor" href="#如何防止ua" aria-hidden="true">#</a></h3><p>TODO</p><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-hidden="true">#</a></h2><ul><li><a href="https://webaim.org/blog/user-agent-string-history/" target="_blank" rel="noreferrer">History of the browser user-agent string</a></li><li><a href="https://winaero.com/change-user-agent-chrome/" target="_blank" rel="noreferrer">How To Change User Agent in Google Chrome</a></li></ul>`,77),p=[l];function t(c,r,i,d,y,F){return o(),a("div",null,p)}const h=s(e,[["render",t]]);export{u as __pageData,h as default};
