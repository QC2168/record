---
title: 0.1+0.2等于0.3吗
tags: [JavaScript]
---

## 0.1+0.2等于0.3吗

```
0.1+0.2
// 0.30000000000000004
```

### 为什么？

在`JavaScript`中，只有一种数字类型（`number`），它是遵循`IEE754`标准来实现的，通过`64bit`固定长度来表示一个数字（标准的双精度浮点数）

::: info
这是一个计算机科学里面经典问题，采用了IEE754这个标准的编程语言都会有这个问题的存在
:::

在计算`0.1+0.2`时，计算机无法直接计算十进制数字，而且先根据`IEE754`规范转变成对应的二进制，再进行对接运算

但这`0.1`和`0.2`这两个数的二进制都是死循环

```
0.1 -> 0.0001100110011001...(无限循环)
0.2 -> 0.0011001100110011...(无限循环)
```

由于`IEE754`尾数的限制，需要将多余的位去掉再进行运算

**得出来的结果是**

```
0.0100110011001100110011001100110011001100110011001100
```
再将其转成十进制就有了开头的
```
0.30000000000000004
```

因为精度损失，导致了计算出现了偏差问题


### 解决方案

- 将数字先乘后除，避免小数导致运算出现偏差



## 相关的库

- [Math.js](https://mathjs.org/)
- [big.js](http://mikemcl.github.io/big.js/)